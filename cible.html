<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Cible</title>
<link rel="stylesheet" type="text/css" href="style.css" />
<script type="text/javascript" src="brython/brython.js"></script>

<script type="text/javascript" src="brython/brython_builtins.js"></script>
<script type="text/javascript" src="brython/version_info.js"></script>
<script type="text/javascript" src="brython/py2js.js"></script>
<script type="text/javascript" src="brython/loaders.js"></script>
<script type="text/javascript" src="brython/py_object.js"></script>
<script type="text/javascript" src="brython/py_type.js"></script>
<script type="text/javascript" src="brython/py_utils.js"></script>
<script type="text/javascript" src="brython/py_sort.js"></script>
<script type="text/javascript" src="brython/py_builtin_functions.js"></script>
<script type="text/javascript" src="brython/py_exceptions.js"></script>
<script type="text/javascript" src="brython/py_range_slice.js"></script>
<script type="text/javascript" src="brython/py_bytes.js"></script>
<script type="text/javascript" src="brython/py_set.js"></script>
<script type="text/javascript" src="brython/js_objects.js"></script>
<script type="text/javascript" src="brython/stdlib_paths.js"></script>
<script type="text/javascript" src="brython/py_import.js"></script>

<script type="text/javascript" src="brython/unicode.min.js"></script>
<script type="text/javascript" src="brython/py_string.js"></script>
<script type="text/javascript" src="brython/py_int.js"></script>
<script type="text/javascript" src="brython/py_long_int.js"></script>
<script type="text/javascript" src="brython/py_float.js"></script>
<script type="text/javascript" src="brython/py_complex.js"></script>
<script type="text/javascript" src="brython/py_dict.js"></script>
<script type="text/javascript" src="brython/py_list.js"></script>
<script type="text/javascript" src="brython/py_generator.js"></script>
<script type="text/javascript" src="brython/py_dom.js"></script>

<script type="text/javascript" src="brython/builtin_modules.js"></script>
<script type="text/javascript" src="brython/py_import_hooks.js"></script>
<script type="text/javascript" src="brython/async.js"></script>

<script type="text/javascript" src="brython/brython_stdlib.js"></script>

<script id="python_script" type="text/python">
from browser import document, bind
import turtle

def setup():
    turtle.restart()
    _code = document['pre-src'].text
    exec(_code)

@bind('#run', 'click')
def action(ev):
    turtle.restart()
    _code = document['pre-src'].text + document['user-src'].text
    exec(_code)

setup()

# keep this line at the end (user notification)
document['run'].text = "Exécuter"
</script>

</head>

<body onload="brython(1)">
<h1>Atteindre la cible</h1>
<p>Plus bas sur cette page vous trouverez une zone pour coder en Python et une
zone où se déplace une tortue.</p>
<p>Au départ, La tortue se trouve sur le du point rouge et est orientée vers
la droite.<p>
<p>Dans le programme, il y a trois commandes de déplacement de la tortue :<p>
<ul>
    <li><code>tortue_noire.forward</code> qui signifie avancer ;</li>
    <li><code>tortue.noire.left(90)</code> qui signifie tourner à gauche ;</li>
    <li><code>tortue.noire.right(90)</code> qui signifie tourner à droite.</li>
</ul>

<p>Lorsqu'on exécute le programme :</p>

<ul>
    <li>la tortue effectue :
        <ul>
            <li>un certain déplacement vers la droite,</li>
            <li>tourne à gauche (elle s'oriente donc vers le haut),</li>
            <li>effectue un certain déplacement vers le haut,</li>
            <li>puis tourne à droite (elle s'oriente donc vers la droite)...</li>
        </ul>
        jusqu'à atteindre le bord de la fenêtre ;</li>
    <li>le trajet de la tortue est dessiné en noir ;</li>
    <li>une ligne reliant le point rouge aux points où la tortue tourne à
        droite est dessinée en rouge.</li>
</ul>

<h2>Exercice</h2>

<ol>
    <li>Dans le programme, modifiez les valeurs des déplacements vers la droite
        et vers le haut (par exemple 8 et 12 au lieu de 10 et 10) de manière à
        atteindre la cible verte avec la ligne rouge.</li>
    <li>Une fois que vous avez réussi, notez les valeurs qui conviennent.</li>
    <li>Recommencez et essayez de trouver d'autres valeurs qui conviennent.</li>
</ol>

<p><button id="run">Veuillez patienter…</button></p>

<pre id="pre-src" style="display: none;">
import turtle
turtle.set_defaults(
    canvwidth = 600,
    canvheight = 600,
    turtle_canvas_wrapper = document['turtle-div']
   # , turtle_canvas_id = 'turtle-canvas' # default, could be overriden
  )
# Espace de jeu
taille = 300

def pas_trop_loin(tortue):
    return tortue.xcor() >= -taille and \
           tortue.xcor() <=  taille and \
           tortue.ycor() >= -taille and \
           tortue.ycor() <=  taille

def lancer_animation():
    turtle.done()

# Grille
t = turtle.Turtle()
t.speed(0)
t.hideturtle()
t.width(1)
t.color('yellow')

def create_line(x0, y0, x1, y1):
    t.penup()
    t.goto(x0, y0)
    t.pendown()
    t.goto(x1, y1)

i = -taille
while i <= taille:
    create_line(-taille, i, taille, i)
    create_line(i, -taille, i, taille)
    i = i + 10

# Mise en place des tortues
tortue_depart = turtle.Turtle()
tortue_depart.shapesize(5)
tortue_depart.shape("circle")
tortue_depart.color("red")
tortue_depart.penup()
tortue_depart.speed(0)
tortue_depart.goto(-290, -280)

tortue_cible = turtle.Turtle()
tortue_cible.shapesize(5)
tortue_cible.shape("circle")
tortue_cible.color("green")
tortue_cible.penup()
tortue_cible.speed(0)
tortue_cible.goto(0, 90)

tortue_noire = turtle.Turtle()
tortue_noire.shape("turtle")
tortue_noire.penup()
tortue_noire.speed(0)
tortue_noire.goto(-290, -280)
tortue_noire.pendown()

tortue_rouge = turtle.Turtle()
tortue_rouge.shapesize(0.01)
tortue_rouge.pencolor("red")
tortue_rouge.penup()
tortue_rouge.speed(0)
tortue_rouge.goto(-290, -280)
tortue_rouge.pendown()

# Vitesse de 1 à 50, 0 pour le plus vite possible
tortue_noire.speed(5)
tortue_rouge.speed(5)

turtle.done()
</pre>
<pre id="user-src" style="float:left" contenteditable="true">
# Valeurs à changer
deplacement_vers_la_droite = 10
deplacement_vers_le_haut = 10

# Déplacement
while pas_trop_loin(tortue_noire):
    tortue_noire.forward(deplacement_vers_la_droite)
    tortue_noire.left(90)
    tortue_noire.forward(deplacement_vers_le_haut)
    tortue_noire.right(90)

tortue_rouge.goto(tortue_noire.position())

lancer_animation()

</pre>

<span id="turtle-div" style="float:left;border:1px solid green; margin-left:50px;"> </span>

<br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br>
</body>

</html>

